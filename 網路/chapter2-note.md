# 網路應用架構
- Client-Sever架構
    - 客戶端之間並不會直接溝通，而是透過一台全天候開啟的伺服端交換資訊。
    - 資料中心：一群伺服器的組合，建構強大的虛擬伺服器。
- P2P架構
    - 客戶端直接溝通，稱為**對等點**
    - 具**自我擴充性**
    - 挑戰
        - ISP通常是**不對等**頻寬，意即下載大於上傳
        - 安全性
        - 足夠的上傳誘因：每個人都是自私的

# 行程通訊
進行通訊的不是程式，而是行程
> 用戶端行程：開啟通訊的行程   
> 伺服端行程：等待被聯繫的行程

- 行程介面：行程透過socket軟體介面，已從網路上傳送接收訊息。
    - 行程像屋子，socket像門。  
- 行程定址：為了識別接收端行層，需要
    1. 主機名稱或位址
    2. 接收端行程的識別碼
    > 在網際網路中，主機是以IP位址來標示，行程是以埠號來識別。

# 廣義傳輸層提供的服務
開發應用程式必須在眾多傳輸層協定中選擇，而依據協定提供的服務
- 可靠的資料傳輸
- 產出率的保證
    - 敏感性頻寬應用需要，相反之，彈性應用不需要
    - 越高越好
- 時程保證
    - 即時性應用
- 安全性
    - 編解碼
    - 端點認證
    - 資料完整性

# 網際網路提供的傳輸層服務(狹義)
- 應用服務需求

|  應用     |資料遺失  |產出率|時程|
|---------- |---------|------|----|
|檔案傳輸    |不可遺失  | 彈性 |彈性|
|電子郵件    |不可遺失  |彈性  |彈性|
|網頁文件    |不可遺失  |彈性  |彈性|
|網路電話    |可容忍遺失|要求  |要求|
|視訊會議    |可容忍遺失|要求  |要求|
|串流預儲影音|可容忍遺失|要求  |要求|
|互動式遊戲  |可容忍遺失|要求  |要求|
|即時訊息    |不可遺失  |彈性  |彈性|
- TCP
    - 連線導向服務：三向交握
    - 可靠資料傳輸服務
    - 壅塞控制
- UDP
    - 不連線
    - 不可靠資料傳輸
    - 沒有壅塞控制

# 安全的TCP
TCP或UDP都沒有提供任何加密的方式，所以誕生出TCP的補強-**SSL**，這種補強會在應用層實作。
> 如果某個應用程式想要SSL的功能，就去import SSL Libary吧
```
       (明碼)             (密碼)
應用層 ------> SSL Socket ---->  TCP Socket  ---->   網際網路
                                                        ↓
                                                        ↓
        (明碼)             (密碼)                        ↓
應用層 <------ SSL Socket <----  TCP Socket  <----   網際網路      
```

# HTTP與資訊網
- HTTP
    - HTTP是資訊網的應用層協定
    - 定義了訊息結構及用戶與伺服端要如何交換訊息
    - 由用戶端(瀏覽器)及伺服端(網頁伺服器)實作
    - 瀏覽器會發送請求給網頁伺服器，網頁伺服器會回應瀏覽器要求的物件
    - 使用TCP作為下層協定
    - 伺服器並不會維護跟用戶端有關的資訊，HTTP是**無狀態協定**
- 資訊網
    - 網頁由物件構成
    - 物件就是可以用URL來定址的檔案(html、js、css、images)
    - URL包含兩部分：主機名稱 + 物件的路徑名稱
    ```
                 主機名稱                路徑名稱
           ┌-----------------┐     ┌-----------------┐    
    http://www.somecompany.com/somedepartment/picture.jpg
    ```
# 永久性連線與非永久性連線
- 每對請求都開啟個別的TCP連線來傳送 --> 永久性
- 每對請求都用相同的TCP連線來傳送 --> 非永久性
    - 針對每份請求都必須維護一筆全新的連線資料，負擔大
- HTTP預設為永久性連線

# HTTP訊息格式

# Cookie
- 因應HTTP是無狀態，但又想同時擁有使用者狀態，又不失去效能的需求
- 讓網站能夠追蹤使用者
- 技術組成元件
    1. HTTP回應訊息的Cookie標頭
    2. HTTP請求訊息的Cookie標頭
    3. 保存在使用者瀏覽器管理的cookie檔
    4. 網頁伺服器的後端資料庫
