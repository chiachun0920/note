# 什麼是網際網路
- 網路的基本元素組成網際網路
    - 主機或終端系統
    - 通訊連結
    - 封包交換器
        - 路由器
        - 連結層交換器
    - 封包
    - 路由或路徑
    - ISP網際網路服務供應商
    - 協定
- 網際網路是一種提供**分散式應用**服務的基礎設施
    > 因為分散在不同地方的應用，必須透過網際網路來交換資料。

# 協定
協定定義了兩個以上的通訊實體間交換訊息的格式及順序，以及在傳送接收訊息或在發生其他事件所採取的動作。

# 連線網路
- 家用連線
    - DSL 數位用戶迴路：住家向提供地區性電話連線的同一家公司取得網際網路連線。
    - CABLE 纜線網際網路連線：利用有線電視公司提供的網路連線。
    - 光纖到府
- 企業連線(越來越多**家用連線**採用)
    - (LAN)乙太網路
    - WiFi
- 廣域無線網路
    - 3G
    - 4G
    - LTE

# 實體媒介
- 導引式媒介
    - 雙絞銅線：電話網路、DSL甚至是撥接網路使用。
    - 同軸電纜：有線電視使用，為導引式**共用媒介**。
    - 光纖：支援極高傳輸速率，不容易訊號衰減，用在網際網路主要骨幹。
- 非導引式媒介
    - 地表無線電通道：利用電磁頻譜夾帶訊號，但容易受到環境因素干擾。
        > 環境因素包括：路徑遺失、遮蔽衰減、多路徑衰減(干擾物體的反射訊號)及> 干擾(其他電磁訊號)。
    - 衛星無線電通道
        - 同步衛星
            - 保持地面上空固定位置
            - 離地表很遠，會有傳輸延遲問題
        - 低軌道衛星
            - 比較靠近地球，會繞地球運轉
            - 因為衛星會移動，所以必須放置多個來確保某區域有訊號覆蓋

# 儲存轉送傳輸

網路應用中，終端系統彼此交換**訊息 (messages)**。

要從來源終端系統傳送一個訊息到目的地終端系統，來源處必須將很長的訊息切割成小型的資料塊，也就是所謂的**封包**。

而**儲存轉送傳輸**意指交換器必須先接收到整個封包，才能開始將封包的第一個位元傳輸到外部連結。

# 佇列延遲與封包遺失

交換器對於每道輸出連結，都有所謂的**輸出緩衝區**，如果某個抵達的封包發現某個連結正在傳輸，他就必須在這個緩衝區等待，也就是**佇列延遲**

佇列延遲的時間並不固定，取決於網路的壅塞程度，但是當緩衝區滿了，又有封包到來，在這種情況下，封包會被丟棄，造成**封包遺失**

# 電路交換

在此交換網路中，路徑上所有為了終端系統間提供通訊的所有資源都會被**預約保留**，在封包交換網路中，這些資源並不會被保留

> 電話網路為電路交換的實例。

電路交換網路的多工
- 分頻多工
- 分時多工

# 封包交換網路 VS 電路交換網路
|   特性    |   封包   |  電路   |
|:---------:|:--------:|:------:|
|即時服務    |  不適合  |  適合   |
|頻寬使用效率|    高    |   差    | 
|成本        |   低    |    高   |
|保留資源    |   不用   |   需要  |

# 一群網路的網路 ISP的網路

- 網路架構 1：把所有的連線ISP和單一個**全球運轉ISP**相連
    - 昂貴
    - 不實際
- 網路架構 2 :把數十萬台連線ISP和多個**全球轉運ISP**相連
- 網路架構 3 ：連線ISP + 地區型ISP + 第一層ISP
- 網路架構 4 ： 網路架構 3 加上**接續點**、**多點上層連接**、**對等**、**網際網路互換點**。
    - 對等：鄰近的ISP可以直接連在一起，不必透過上層ISP來交換資訊，通常對等點的連線為免費。
    - 網際網路互換點：一第三方的公司可以產生一個網際網路互換點，多個ISP可以連到此達到彼此**對等**
- 網路架構 5 ：網路架構4 + 內容供應者網路。
    - Google為佼佼者。
    - 藉由全球的資料中心來旁路化網際網路的上層，再透過IXP來對等下層連線ISP。
    - 對末端使用者有較大的控制能力。

# 網路延遲
- 處理延遲：檢查封包表頭並判斷要將封包導向何處所需的時間。
- 傳輸延遲：封包長度(bits)÷傳輸速率(bits/sec)。
- 傳播延遲：距離/媒介的傳播速率(大約等於光速)。
- 佇列延遲：取決於網路壅塞的程度。
    - 判斷佇列延遲的根據：流量強度
    - 流量強度：進入流量/出去的流量
    - 最高準則：使流量強度<1
    - 當流量強度>=1，會產生封包遺失的情形

    ```
    總結上述四種延遲，端點到端點的延遲為：

    假設來源主機到目的端主機間有(N-1)路由器，並且網路是暢通的(忽略佇列延遲)

    端點到端點延遲 = N (傳播延遲 + 傳輸延遲 + 處理延遲)
    ```

# 網路的產出率
- 瞬間產出率
- 平均產出率
- 位元串流想成水流，通訊連結想成水管
- min{Rs,Rc} or min{R1,...,Rn}

# 網際網路協定(堆疊)分層
- 應用層
- 傳輸層
- 網路層
- 連結層
- 實體層
- 分層架構優點：
    - 提供結構化的途徑來討論系統元件
    - 模組化讓我們更易於更新系統元件

# OSI模型
與網際網路堆疊的差別，就是多了呈現層與會談層
- 呈現層：提供讓進行通訊的應用程式得以解讀彼此的資料意義
    - 資料壓縮
    - 資料加密
- 會談層：提供資料交換的界線標定與同步化，用以建立檢查點及回復機制

# 封裝   
- 應用層：訊息
- 傳輸層 : 訊息 + 傳輸層表頭 = 傳輸層區段。
- 網路層： 傳輸層區段 + 網路層表頭 = 網路層資料報。
- 連結層：網路層資料報 + 連結層表頭 = 連結層訊框。

# 網路攻擊
- 手段：
    - 置入惡意軟體：刪除檔案、蒐集私人資訊、被迫加入魁儡網路
        - 大部分的惡意軟體都具有自我複製性。
            - 病毒：需要使用者參與，才能感染使用者裝置。
            - 蠕蟲：不需要使用者參與就能感染，勒索病毒。
    - 攻擊伺服器與網路基礎設施
        - DoS攻擊
            - 弱點攻擊：利用系統的弱點造成裝置崩潰。
            - 頻寬滿載：送出洪水般的封包給目的主機塞滿連結，讓正常封包無法進入。
            - 連線滿載：利用大量TCP連線未完全攻擊。
        - DDoS分散式服務阻斷
    - 竊聽封包
        - 解法：封包加密
    - 偽裝來源
        - IP詐騙
        - 解法：端點認證